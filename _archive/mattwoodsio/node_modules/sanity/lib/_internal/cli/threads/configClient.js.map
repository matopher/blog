{"version":3,"file":"configClient.js","sources":["../../../../src/_internal/cli/threads/configClient.ts"],"sourcesContent":["import {getCliClient} from '@sanity/cli'\nimport ConfigStore from 'configstore'\n\n// eslint-disable-next-line no-process-env\nconst sanityEnv = (process.env.SANITY_INTERNAL_ENV || '').toLowerCase()\nconst defaults = {}\nconst config = new ConfigStore(\n  sanityEnv && sanityEnv !== 'production' ? `sanity-${sanityEnv}` : 'sanity',\n  defaults,\n  {globalConfigPath: true},\n)\n\nconst token = config.get('authToken')\nif (!token) {\n  throw new Error(\n    '--with-user-token specified, but no auth token could be found. Run `sanity login`',\n  )\n}\n\n// eslint-disable-next-line camelcase\ngetCliClient.__internal__getToken = () => token\n"],"names":["sanityEnv","process","env","SANITY_INTERNAL_ENV","toLowerCase","defaults","config","ConfigStore","default","concat","globalConfigPath","token","get","Error","getCliClient","__internal__getToken"],"mappings":";;;;;;;;;;AAIA,MAAMA,SAAa,GAAA,CAAAC,OAAA,CAAQC,GAAI,CAAAC,mBAAA,IAAuB,IAAIC,WAAY,EAAA;AACtE,MAAMC,WAAW,CAAA,CAAC;AAClB,MAAMC,SAAS,IAAIC,oBAAA,CAAAC,OAAA,CACjBR,SAAa,IAAAA,SAAA,KAAc,YAAe,GAAA,SAAA,CAAUS,MAAc,CAAAT,SAAA,CAAA,GAAA,QAAA,EAClEK,QAAA,EACA;EAACK,kBAAkB;AAAI,CACzB,CAAA;AAEA,MAAMC,KAAA,GAAQL,MAAO,CAAAM,GAAA,CAAI,WAAW,CAAA;AACpC,IAAI,CAACD,KAAO,EAAA;EACV,MAAM,IAAIE,KAAA,CACR,mFAAA,CACF;AACF;AAGAC,GAAAA,CAAAA,YAAA,CAAaC,uBAAuB,MAAMJ,KAAA"}