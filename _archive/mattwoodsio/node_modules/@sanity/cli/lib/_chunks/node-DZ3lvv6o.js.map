{"version":3,"file":"node-DZ3lvv6o.js","sources":["../../../../../node_modules/.pnpm/eventsource@2.0.2/node_modules/eventsource/lib/eventsource.js","../../../../../node_modules/.pnpm/@sanity+eventsource@5.0.1/node_modules/@sanity/eventsource/node.js"],"sourcesContent":["var parse = require('url').parse\nvar events = require('events')\nvar https = require('https')\nvar http = require('http')\nvar util = require('util')\n\nvar httpsOptions = [\n  'pfx', 'key', 'passphrase', 'cert', 'ca', 'ciphers',\n  'rejectUnauthorized', 'secureProtocol', 'servername', 'checkServerIdentity'\n]\n\nvar bom = [239, 187, 191]\nvar colon = 58\nvar space = 32\nvar lineFeed = 10\nvar carriageReturn = 13\n// Beyond 256KB we could not observe any gain in performance\nvar maxBufferAheadAllocation = 1024 * 256\n// Headers matching the pattern should be removed when redirecting to different origin\nvar reUnsafeHeader = /^(cookie|authorization)$/i\n\nfunction hasBom (buf) {\n  return bom.every(function (charCode, index) {\n    return buf[index] === charCode\n  })\n}\n\n/**\n * Creates a new EventSource object\n *\n * @param {String} url the URL to which to connect\n * @param {Object} [eventSourceInitDict] extra init params. See README for details.\n * @api public\n **/\nfunction EventSource (url, eventSourceInitDict) {\n  var readyState = EventSource.CONNECTING\n  var headers = eventSourceInitDict && eventSourceInitDict.headers\n  var hasNewOrigin = false\n  Object.defineProperty(this, 'readyState', {\n    get: function () {\n      return readyState\n    }\n  })\n\n  Object.defineProperty(this, 'url', {\n    get: function () {\n      return url\n    }\n  })\n\n  var self = this\n  self.reconnectInterval = 1000\n  self.connectionInProgress = false\n\n  function onConnectionClosed (message) {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CONNECTING\n    _emit('error', new Event('error', {message: message}))\n\n    // The url may have been changed by a temporary redirect. If that's the case,\n    // revert it now, and flag that we are no longer pointing to a new origin\n    if (reconnectUrl) {\n      url = reconnectUrl\n      reconnectUrl = null\n      hasNewOrigin = false\n    }\n    setTimeout(function () {\n      if (readyState !== EventSource.CONNECTING || self.connectionInProgress) {\n        return\n      }\n      self.connectionInProgress = true\n      connect()\n    }, self.reconnectInterval)\n  }\n\n  var req\n  var lastEventId = ''\n  if (headers && headers['Last-Event-ID']) {\n    lastEventId = headers['Last-Event-ID']\n    delete headers['Last-Event-ID']\n  }\n\n  var discardTrailingNewline = false\n  var data = ''\n  var eventName = ''\n\n  var reconnectUrl = null\n\n  function connect () {\n    var options = parse(url)\n    var isSecure = options.protocol === 'https:'\n    options.headers = { 'Cache-Control': 'no-cache', 'Accept': 'text/event-stream' }\n    if (lastEventId) options.headers['Last-Event-ID'] = lastEventId\n    if (headers) {\n      var reqHeaders = hasNewOrigin ? removeUnsafeHeaders(headers) : headers\n      for (var i in reqHeaders) {\n        var header = reqHeaders[i]\n        if (header) {\n          options.headers[i] = header\n        }\n      }\n    }\n\n    // Legacy: this should be specified as `eventSourceInitDict.https.rejectUnauthorized`,\n    // but for now exists as a backwards-compatibility layer\n    options.rejectUnauthorized = !(eventSourceInitDict && !eventSourceInitDict.rejectUnauthorized)\n\n    if (eventSourceInitDict && eventSourceInitDict.createConnection !== undefined) {\n      options.createConnection = eventSourceInitDict.createConnection\n    }\n\n    // If specify http proxy, make the request to sent to the proxy server,\n    // and include the original url in path and Host headers\n    var useProxy = eventSourceInitDict && eventSourceInitDict.proxy\n    if (useProxy) {\n      var proxy = parse(eventSourceInitDict.proxy)\n      isSecure = proxy.protocol === 'https:'\n\n      options.protocol = isSecure ? 'https:' : 'http:'\n      options.path = url\n      options.headers.Host = options.host\n      options.hostname = proxy.hostname\n      options.host = proxy.host\n      options.port = proxy.port\n    }\n\n    // If https options are specified, merge them into the request options\n    if (eventSourceInitDict && eventSourceInitDict.https) {\n      for (var optName in eventSourceInitDict.https) {\n        if (httpsOptions.indexOf(optName) === -1) {\n          continue\n        }\n\n        var option = eventSourceInitDict.https[optName]\n        if (option !== undefined) {\n          options[optName] = option\n        }\n      }\n    }\n\n    // Pass this on to the XHR\n    if (eventSourceInitDict && eventSourceInitDict.withCredentials !== undefined) {\n      options.withCredentials = eventSourceInitDict.withCredentials\n    }\n\n    req = (isSecure ? https : http).request(options, function (res) {\n      self.connectionInProgress = false\n      // Handle HTTP errors\n      if (res.statusCode === 500 || res.statusCode === 502 || res.statusCode === 503 || res.statusCode === 504) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        onConnectionClosed()\n        return\n      }\n\n      // Handle HTTP redirects\n      if (res.statusCode === 301 || res.statusCode === 302 || res.statusCode === 307) {\n        var location = res.headers.location\n        if (!location) {\n          // Server sent redirect response without Location header.\n          _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n          return\n        }\n        var prevOrigin = new URL(url).origin\n        var nextOrigin = new URL(location).origin\n        hasNewOrigin = prevOrigin !== nextOrigin\n        if (res.statusCode === 307) reconnectUrl = url\n        url = location\n        process.nextTick(connect)\n        return\n      }\n\n      if (res.statusCode !== 200) {\n        _emit('error', new Event('error', {status: res.statusCode, message: res.statusMessage}))\n        return self.close()\n      }\n\n      readyState = EventSource.OPEN\n      res.on('close', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n\n      res.on('end', function () {\n        res.removeAllListeners('close')\n        res.removeAllListeners('end')\n        onConnectionClosed()\n      })\n      _emit('open', new Event('open'))\n\n      // text/event-stream parser adapted from webkit's\n      // Source/WebCore/page/EventSource.cpp\n      var buf\n      var newBuffer\n      var startingPos = 0\n      var startingFieldLength = -1\n      var newBufferSize = 0\n      var bytesUsed = 0\n\n      res.on('data', function (chunk) {\n        if (!buf) {\n          buf = chunk\n          if (hasBom(buf)) {\n            buf = buf.slice(bom.length)\n          }\n          bytesUsed = buf.length\n        } else {\n          if (chunk.length > buf.length - bytesUsed) {\n            newBufferSize = (buf.length * 2) + chunk.length\n            if (newBufferSize > maxBufferAheadAllocation) {\n              newBufferSize = buf.length + chunk.length + maxBufferAheadAllocation\n            }\n            newBuffer = Buffer.alloc(newBufferSize)\n            buf.copy(newBuffer, 0, 0, bytesUsed)\n            buf = newBuffer\n          }\n          chunk.copy(buf, bytesUsed)\n          bytesUsed += chunk.length\n        }\n\n        var pos = 0\n        var length = bytesUsed\n\n        while (pos < length) {\n          if (discardTrailingNewline) {\n            if (buf[pos] === lineFeed) {\n              ++pos\n            }\n            discardTrailingNewline = false\n          }\n\n          var lineLength = -1\n          var fieldLength = startingFieldLength\n          var c\n\n          for (var i = startingPos; lineLength < 0 && i < length; ++i) {\n            c = buf[i]\n            if (c === colon) {\n              if (fieldLength < 0) {\n                fieldLength = i - pos\n              }\n            } else if (c === carriageReturn) {\n              discardTrailingNewline = true\n              lineLength = i - pos\n            } else if (c === lineFeed) {\n              lineLength = i - pos\n            }\n          }\n\n          if (lineLength < 0) {\n            startingPos = length - pos\n            startingFieldLength = fieldLength\n            break\n          } else {\n            startingPos = 0\n            startingFieldLength = -1\n          }\n\n          parseEventStreamLine(buf, pos, fieldLength, lineLength)\n\n          pos += lineLength + 1\n        }\n\n        if (pos === length) {\n          buf = void 0\n          bytesUsed = 0\n        } else if (pos > 0) {\n          buf = buf.slice(pos, bytesUsed)\n          bytesUsed = buf.length\n        }\n      })\n    })\n\n    req.on('error', function (err) {\n      self.connectionInProgress = false\n      onConnectionClosed(err.message)\n    })\n\n    if (req.setNoDelay) req.setNoDelay(true)\n    req.end()\n  }\n\n  connect()\n\n  function _emit () {\n    if (self.listeners(arguments[0]).length > 0) {\n      self.emit.apply(self, arguments)\n    }\n  }\n\n  this._close = function () {\n    if (readyState === EventSource.CLOSED) return\n    readyState = EventSource.CLOSED\n    if (req.abort) req.abort()\n    if (req.xhr && req.xhr.abort) req.xhr.abort()\n  }\n\n  function parseEventStreamLine (buf, pos, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        var type = eventName || 'message'\n        _emit(type, new MessageEvent(type, {\n          data: data.slice(0, -1), // remove trailing newline\n          lastEventId: lastEventId,\n          origin: new URL(url).origin\n        }))\n        data = ''\n      }\n      eventName = void 0\n    } else if (fieldLength > 0) {\n      var noValue = fieldLength < 0\n      var step = 0\n      var field = buf.slice(pos, pos + (noValue ? lineLength : fieldLength)).toString()\n\n      if (noValue) {\n        step = lineLength\n      } else if (buf[pos + fieldLength + 1] !== space) {\n        step = fieldLength + 1\n      } else {\n        step = fieldLength + 2\n      }\n      pos += step\n\n      var valueLength = lineLength - step\n      var value = buf.slice(pos, pos + valueLength).toString()\n\n      if (field === 'data') {\n        data += value + '\\n'\n      } else if (field === 'event') {\n        eventName = value\n      } else if (field === 'id') {\n        lastEventId = value\n      } else if (field === 'retry') {\n        var retry = parseInt(value, 10)\n        if (!Number.isNaN(retry)) {\n          self.reconnectInterval = retry\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = EventSource\n\nutil.inherits(EventSource, events.EventEmitter)\nEventSource.prototype.constructor = EventSource; // make stacktraces readable\n\n['open', 'error', 'message'].forEach(function (method) {\n  Object.defineProperty(EventSource.prototype, 'on' + method, {\n    /**\n     * Returns the current listener\n     *\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    get: function get () {\n      var listener = this.listeners(method)[0]\n      return listener ? (listener._listener ? listener._listener : listener) : undefined\n    },\n\n    /**\n     * Start listening for events\n     *\n     * @param {Function} listener the listener\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    set: function set (listener) {\n      this.removeAllListeners(method)\n      this.addEventListener(method, listener)\n    }\n  })\n})\n\n/**\n * Ready states\n */\nObject.defineProperty(EventSource, 'CONNECTING', {enumerable: true, value: 0})\nObject.defineProperty(EventSource, 'OPEN', {enumerable: true, value: 1})\nObject.defineProperty(EventSource, 'CLOSED', {enumerable: true, value: 2})\n\nEventSource.prototype.CONNECTING = 0\nEventSource.prototype.OPEN = 1\nEventSource.prototype.CLOSED = 2\n\n/**\n * Closes the connection, if one is made, and sets the readyState attribute to 2 (closed)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventSource/close\n * @api public\n */\nEventSource.prototype.close = function () {\n  this._close()\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using addEventListener.\n *\n * @param {String} type A string representing the event type to listen out for\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.addEventListener = function addEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    // store a reference so we can return the original function again\n    listener._listener = listener\n    this.on(type, listener)\n  }\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using dispatchEvent.\n *\n * @param {Event} event An event to be dispatched\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\n * @api public\n */\nEventSource.prototype.dispatchEvent = function dispatchEvent (event) {\n  if (!event.type) {\n    throw new Error('UNSPECIFIED_EVENT_TYPE_ERR')\n  }\n  // if event is instance of an CustomEvent (or has 'details' property),\n  // send the detail object as the payload for the event\n  this.emit(event.type, event.detail)\n}\n\n/**\n * Emulates the W3C Browser based WebSocket interface using removeEventListener.\n *\n * @param {String} type A string representing the event type to remove\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.removeEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.removeEventListener = function removeEventListener (type, listener) {\n  if (typeof listener === 'function') {\n    listener._listener = undefined\n    this.removeListener(type, listener)\n  }\n}\n\n/**\n * W3C Event\n *\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#interface-Event\n * @api private\n */\nfunction Event (type, optionalProperties) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  if (optionalProperties) {\n    for (var f in optionalProperties) {\n      if (optionalProperties.hasOwnProperty(f)) {\n        Object.defineProperty(this, f, { writable: false, value: optionalProperties[f], enumerable: true })\n      }\n    }\n  }\n}\n\n/**\n * W3C MessageEvent\n *\n * @see http://www.w3.org/TR/webmessaging/#event-definitions\n * @api private\n */\nfunction MessageEvent (type, eventInitDict) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true })\n  for (var f in eventInitDict) {\n    if (eventInitDict.hasOwnProperty(f)) {\n      Object.defineProperty(this, f, { writable: false, value: eventInitDict[f], enumerable: true })\n    }\n  }\n}\n\n/**\n * Returns a new object of headers that does not include any authorization and cookie headers\n *\n * @param {Object} headers An object of headers ({[headerName]: headerValue})\n * @return {Object} a new object of headers\n * @api private\n */\nfunction removeUnsafeHeaders (headers) {\n  var safe = {}\n  for (var key in headers) {\n    if (reUnsafeHeader.test(key)) {\n      continue\n    }\n\n    safe[key] = headers[key]\n  }\n\n  return safe\n}\n","module.exports = require('eventsource')\n"],"names":["parse","require$$0","default","events","require$$1","https","require$$2","http","require$$3","util","require$$4","httpsOptions","bom","colon","space","lineFeed","carriageReturn","maxBufferAheadAllocation","reUnsafeHeader","hasBom","buf","every","charCode","index","EventSource","url","eventSourceInitDict","readyState","CONNECTING","headers","hasNewOrigin","Object","defineProperty","get","self","reconnectInterval","connectionInProgress","onConnectionClosed","message","CLOSED","_emit","Event","reconnectUrl","setTimeout","connect","req","lastEventId","discardTrailingNewline","data","eventName","options","isSecure","protocol","reqHeaders","removeUnsafeHeaders","i","header","rejectUnauthorized","createConnection","undefined","useProxy","proxy","path","Host","host","hostname","port","optName","indexOf","option","withCredentials","request","res","statusCode","status","statusMessage","location","prevOrigin","URL","origin","nextOrigin","process","nextTick","close","OPEN","on","removeAllListeners","newBuffer","startingPos","startingFieldLength","newBufferSize","bytesUsed","chunk","slice","length","Buffer","alloc","copy","pos","lineLength","fieldLength","c","parseEventStreamLine","err","setNoDelay","end","listeners","arguments","emit","apply","_close","abort","xhr","type","MessageEvent","noValue","step","field","toString","valueLength","value","retry","parseInt","Number","isNaN","eventsource","inherits","EventEmitter","prototype","constructor","forEach","method","listener","_listener","set","addEventListener","enumerable","dispatchEvent","event","Error","detail","removeEventListener","removeListener","optionalProperties","writable","f","hasOwnProperty","eventInitDict","safe","key","test","node"],"mappings":"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","x_google_ignoreList":[0,1]}