{"version":3,"file":"content.esm.js","sources":["../src/content/hasOwn.ts","../src/content/isDeepEmpty.ts","../src/content/isShallowEmptyObject.ts","../src/content/randomKey.ts","../src/content/resolveJSType.ts","../src/content/resolveTypeName.ts"],"sourcesContent":["export default Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty)\n","import hasOwn from './hasOwn'\n\nfunction isDeepEmptyObject(value: {[key: string]: any}): boolean {\n  for (const key in value) {\n    if (key === '_type' || key === '_key') {\n      continue\n    }\n    if (hasOwn(value, key) && !isDeepEmpty(value[key])) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction isDeepEmptyArray(value: unknown[]): boolean {\n  for (let i = 0; i < value.length; i++) {\n    if (!isDeepEmpty(value[i])) {\n      return false\n    }\n  }\n  return true\n}\n\n/**\n * Looks at the value and determines if it is deeply empty while not considering _type and _key attributes on objects.\n * A value will be considered deeply empty if it is:\n *  - undefined or null\n *  - an object where all property values are deeply empty\n *  - an array where all items are deeply empty\n * @param value - the value to check for deep emptiness\n */\nexport function isDeepEmpty(value: unknown): boolean {\n  if (value === undefined || value === null) {\n    return true\n  }\n  const type = typeof value\n\n  if (Array.isArray(value)) {\n    return isDeepEmptyArray(value)\n  }\n  if (type === 'object') {\n    return isDeepEmptyObject(value)\n  }\n  return false\n}\n\n/**\n * @deprecated Use `isDeepEmpty` instead\n * todo: remove in v4\n */\nexport const isEmptyArray = isDeepEmptyArray\n\n/**\n * @deprecated Use `isDeepEmpty` instead\n * todo: remove in v4\n */\nexport const isEmpty = isDeepEmpty\n\n/**\n * @deprecated Use `isDeepEmpty` instead\n * todo: remove in v4\n */\nexport const isEmptyObject = isDeepEmptyObject\n","import hasOwn from './hasOwn'\n\nexport function isShallowEmptyObject(value: {[key: string]: unknown}): boolean {\n  for (const key in value) {\n    if (key === '_type' || key === '_key') {\n      continue\n    }\n    if (hasOwn(value, key) && value[key] !== undefined) {\n      return false\n    }\n  }\n  return true\n}\n","import getRandomValues from 'get-random-values-esm'\n\nconst getByteHexTable = (() => {\n  let table: any[]\n  return () => {\n    if (table) {\n      return table\n    }\n\n    table = []\n    for (let i = 0; i < 256; ++i) {\n      table[i] = (i + 0x100).toString(16).substring(1)\n    }\n    return table\n  }\n})()\n\n// WHATWG crypto RNG - https://w3c.github.io/webcrypto/Overview.html\nfunction whatwgRNG(length = 16) {\n  const rnds8 = new Uint8Array(length)\n  getRandomValues(rnds8)\n  return rnds8\n}\n\nexport function randomKey(length?: number): string {\n  const table = getByteHexTable()\n  return whatwgRNG(length)\n    .reduce((str, n) => str + table[n], '')\n    .slice(0, length)\n}\n","const toString = Object.prototype.toString\n// Copied from https://github.com/ForbesLindesay/type-of, but inlined to have fine grained control\n\nexport function resolveJSType(val: unknown) {\n  switch (toString.call(val)) {\n    case '[object Function]':\n      return 'function'\n    case '[object Date]':\n      return 'date'\n    case '[object RegExp]':\n      return 'regexp'\n    case '[object Arguments]':\n      return 'arguments'\n    case '[object Array]':\n      return 'array'\n    case '[object String]':\n      return 'string'\n    default:\n  }\n\n  if (typeof val == 'object' && val && typeof (val as any).length == 'number') {\n    try {\n      if (typeof (val as any).callee == 'function') {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    } catch (ex) {\n      if (ex instanceof TypeError) {\n        // eslint-disable-line max-depth\n        return 'arguments'\n      }\n    }\n  }\n\n  if (val === null) {\n    return 'null'\n  }\n\n  if (val === undefined) {\n    return 'undefined'\n  }\n\n  if (val && (val as any).nodeType === 1) {\n    return 'element'\n  }\n\n  if (val === Object(val)) {\n    return 'object'\n  }\n\n  return typeof val\n}\n","import {resolveJSType} from './resolveJSType'\n\nexport function resolveTypeName(value: unknown): string {\n  const jsType = resolveJSType(value)\n  if (jsType !== 'object') {\n    return jsType\n  }\n\n  const obj = value as Record<string, unknown> & {_type?: string}\n  return ('_type' in obj && obj._type) || jsType\n}\n"],"names":["hasOwn","Object","prototype","hasOwnProperty","call","bind","isDeepEmptyObject","value","key","isDeepEmpty","isDeepEmptyArray","i","length","type","Array","isArray","isEmptyArray","isEmpty","isEmptyObject","isShallowEmptyObject","getByteHexTable","table","toString","substring","whatwgRNG","rnds8","Uint8Array","getRandomValues","randomKey","reduce","str","n","slice","resolveJSType","val","callee","ex","TypeError","nodeType","resolveTypeName","jsType","obj","_type"],"mappings":"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"}