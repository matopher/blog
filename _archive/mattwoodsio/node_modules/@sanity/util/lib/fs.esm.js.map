{"version":3,"file":"fs.esm.js","sources":["../src/fsTools.ts"],"sourcesContent":["import fs from 'fs/promises'\nimport os from 'os'\nimport path from 'path'\n\nexport async function pathIsEmpty(dir: string): Promise<boolean> {\n  try {\n    const content = await fs.readdir(absolutify(dir))\n    return content.length === 0\n  } catch (err) {\n    if (err.code === 'ENOENT') {\n      return true\n    }\n\n    throw err\n  }\n}\n\nexport function expandHome(filePath: string): string {\n  if (\n    filePath.charCodeAt(0) === 126\n    /* ~ */\n  ) {\n    if (\n      filePath.charCodeAt(1) === 43\n      /* + */\n    ) {\n      return path.join(process.cwd(), filePath.slice(2))\n    }\n\n    const home = os.homedir()\n    return home ? path.join(home, filePath.slice(1)) : filePath\n  }\n\n  return filePath\n}\n\nexport function absolutify(dir: string): string {\n  const pathName = expandHome(dir)\n  return path.isAbsolute(pathName) ? pathName : path.resolve(process.cwd(), pathName)\n}\n"],"names":["pathIsEmpty","dir","content","fs","readdir","absolutify","length","err","code","expandHome","filePath","charCodeAt","path","join","process","cwd","slice","home","os","homedir","pathName","isAbsolute","resolve"],"mappings":";;;AAIA,eAAsBA,YAAYC,GAA+B,EAAA;EAC3D,IAAA;IACF,MAAMC,UAAU,MAAMC,EAAA,CAAGC,OAAQ,CAAAC,UAAA,CAAWJ,GAAG,CAAC,CAAA;IAChD,OAAOC,QAAQI,MAAW,KAAA,CAAA;WACnBC,GAAK,EAAA;IACR,IAAAA,GAAA,CAAIC,SAAS,QAAU,EAAA;MAClB,OAAA,IAAA;IACT;IAEM,MAAAD,GAAA;EACR;AACF;AAEO,SAASE,WAAWC,QAA0B,EAAA;EACnD,IACEA,QAAS,CAAAC,UAAA,CAAW,CAAC,CAAA,KAAM,GAE3B,EAAA;IACA,IACED,QAAS,CAAAC,UAAA,CAAW,CAAC,CAAA,KAAM,EAE3B,EAAA;MACO,OAAAC,IAAA,CAAKC,KAAKC,OAAQ,CAAAC,GAAA,IAAOL,QAAS,CAAAM,KAAA,CAAM,CAAC,CAAC,CAAA;IACnD;IAEM,MAAAC,IAAA,GAAOC,GAAGC,OAAQ,EAAA;IACjB,OAAAF,IAAA,GAAOL,KAAKC,IAAK,CAAAI,IAAA,EAAMP,SAASM,KAAM,CAAA,CAAC,CAAC,CAAI,GAAAN,QAAA;EACrD;EAEO,OAAAA,QAAA;AACT;AAEO,SAASL,WAAWJ,GAAqB,EAAA;EACxC,MAAAmB,QAAA,GAAWX,WAAWR,GAAG,CAAA;EACxB,OAAAW,IAAA,CAAKS,UAAW,CAAAD,QAAQ,CAAI,GAAAA,QAAA,GAAWR,KAAKU,OAAQ,CAAAR,OAAA,CAAQC,GAAI,CAAA,CAAA,EAAGK,QAAQ,CAAA;AACpF;"}